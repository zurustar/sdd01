# UX & ローカライズ ガイドライン

本書は週次プランナー UI のトーン&マナーとエラーメッセージ整合を整理し、API とドキュメントの齟齬を防ぐためのリファレンスである。

## UX トーンとライティング
- 文章は敬体（です・ます調）で統一し、専門用語には必要に応じて括弧で補足を入れる。
- 操作説明は 2 文以内で完結させ、行動を促す動詞を先頭に置く（例: `会議室を選択し、保存をクリックしてください。`).
- 警告メッセージは「操作は完了したが注意が必要」であることを明示し、成功・失敗メッセージと視覚的に差別化する。
- 重要なリンクやボタンは文章中ではなく UI コンポーネントとして示し、テキストでは代替手順を説明する。

## エラーメッセージと API 整合
以下の表は `docs/authentication_authorization.md` のレスポンス規約と UI 表示文言の対応を示す。

| API error_code | HTTP | UI 表示メッセージ | 補足アクション |
| --- | --- | --- | --- |
| `AUTH_INVALID_CREDENTIALS` | 401 | メールアドレスまたはパスワードが正しくありません。 | ログインフォーム下にパスワード再発行リンクを表示。 |
| `AUTH_SESSION_EXPIRED` | 401 | セッションの有効期限が切れています。もう一度ログインしてください。 | ログイン画面へ遷移し、直近の入力内容を保持。 |
| `AUTH_FORBIDDEN` | 403 | この操作を行う権限がありません。管理者にお問い合わせください。 | ロールと必要権限の説明リンクを `サポート` モーダルに配置。 |
| `CONFLICT_DETECTED` | 409 | 参加者または会議室が既存の予定と競合しています。警告を確認の上で保存できます。 | 競合の詳細リンクをバナーに差し込み、詳細パネルを開く。 |
| `ROOM_NOT_FOUND` | 404 | 選択した会議室が見つかりません。最新の会議室一覧を再読み込みしてください。 | `会議室を再読み込み` ボタンで `GET /rooms` を再実行。 |

`CONFLICT_DETECTED` は `docs/scheduling_workflows.md` の警告出力に対応し、`ROOM_NOT_FOUND` は `docs/api_reference.md` の会議室エンドポイント定義に準拠する。

## 多言語展開の準備
- 文言は `i18n/ja.yaml`（予定）のキーで管理し、UI コンポーネントではキー参照のみを行う。
- 変数埋め込みは `{name}` のような波括弧で記述し、数字は `%d` ではなく `{count}` を利用する。
- テキスト内に日付や時刻を含める場合は ISO-8601 フォーマット (`2024-05-01 10:00`) を原文とし、表示時にロケールフォーマットへ変換する。

## UI とドキュメントの同期手順
1. UI 文言を更新したら `docs/user_quickstart.md` とチュートリアル動画台本を同じ表現にアップデートする。
2. エラー文言を変更する場合は `docs/authentication_authorization.md` のテーブルも更新し、API レスポンスとの整合を担保する。
3. 週次プランナーモックのスクリーンショットを更新した際は、更新日と UI バージョンを画像ファイル名に追記する。
4. ローカライズキーを追加した場合は、テスト環境で `missing translation` ログが出ていないことを確認する。

## 用語集
| 用語 | 推奨表記 | 備考 |
| --- | --- | --- |
| 週次プランナー | Weekly Planner | UI ラベルは日本語、ドキュメントは併記可。 |
| 競合警告 | Conflict Warning | エラーではなく保存可能な警告。 |
| 会議室ピッカー | Room Picker | UI 上では「会議室を選択」。 |
| 参加者セレクター | Participant Selector | UI 上では「同僚を選択」。 |

